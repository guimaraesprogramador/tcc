--inseir a tabela das microrregiao de gv
insert into cidades(nomes,geom)
select a.nm_municip,a.geom
from public."Bacia_MG" as a 
where a.nm_municip ='COROACI'
--criar tabela
create table nascentes_mata_completa(
id_muncipio varchar(254),
limite_forestacao double precision,
id_app int,
florestacao varchar(254),
AreaM2 double precision,
geom geometry
)
--
create table cidades(
nomes varchar(60),
geom geometry
);

--
insert into public."nascentes_mata_completa"(id_muncipio,
limite_forestacao,id_app,florestacao,AreaM2,geom)
select a.nomes,a.NUM_AREA,
a.IDF,a.NOM_TEMA,ST_Area(ST_Intersection(shp.geom,a.st_intersection)),ST_Intersection(shp.geom,a.st_intersection)
from public."gv_nascentes" as a,
PUBLIC."Quadrante_1_vetor" as shp
where ST_Intersects(shp.geom,a.st_intersection) = true;

--validar da dados geometria

update public."nascentes da microrregaio de gv"
set geom = ST_MakeValid(geom);
